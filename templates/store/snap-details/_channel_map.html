<div id="js-channel-map" class="p-channel-map is-closed">
  <div id="channel-map-install" class="p-channel-map__tab">
    <div class="p-strip--light is-shallow">
      <div class="u-fixed-width">
        <p class="p-heading--4">Install {{ default_track }}/{{ lowest_risk_available }} of {{ snap_title }}</p>
        {% if last_updated_warning %}
          <div class="p-notification--caution is-borderless is-inline" style="background-color: transparent;">
            <div class="p-notification__content">
              <p class="p-notification__message">
                {{ last_updated_warning }}
              </p>
            </div>
          </div>
        {% endif %}

        <p>Ubuntu 16.04 or later?</p>
        <button
          data-snap="{{ package_name }}
            {% if lowest_risk_available != 'stable' %}
              ?channel={{ default_track }}/{{ lowest_risk_available }}
            {% endif %}"
          class="p-view-store-button"
          data-js="open-desktop">
            View in Desktop store
        </button>
        <p class="p-form-help-text">Make sure <a href="/docs/installing-snapd">snap support</a> is enabled in your Desktop store.</p>
      </div>
      <div class="u-fixed-width">
        <hr />
      </div>
      <div class="u-fixed-width">
        <p><b>Install using the command line</b></p>
        <div class="p-code-snippet">
          <pre class="p-code-snippet__block--icon"><code id="snap-install">{{ install_snippet(
          package_name, default_track, lowest_risk_available, confinement) }}</code></pre>
        </div>
        <p class="p-form-help-text">
          Don't have snapd? <a href="/docs/installing-snapd">Get set up for snaps</a>.
        </p>
      </div>
      {% if package_name in appliances %}
      <div class="u-fixed-width">
        <hr />
      </div>
      <div class="u-fixed-width">
        <p class="u-no-margin--bottom">
          Available as an <a href="https://ubuntu.com/appliance/{{appliances[package_name]}}" >Ubuntu Appliance</a>
        </p>
      </div>
      {% endif %}
    </div>
  </div>
  <div id="channel-map-versions" class="p-channel-map__tab">
    <div class="p-channel-map__slides show-left">
      <div class="p-strip is-shallow p-channel-map__slide u-no-padding--bottom" data-js="channel-map-options">
        <div class="u-fixed-width">
          <form class="p-form--inline p-channel-map__form">
            <div class="p-form__group">
              <label class="p-form__label">
                Options to install this snap
              </label>
            </div>
            <div class="channel-map-arch-field p-form__group">
              <label for="channel-map-track-select" class="p-form__label">
                Show architecture
              </label>
              <div class="p-form__control">
                <select id="channel-map-architecture-select" data-js="arch-select" class="p-channel-map-arch-select">
                </select>
              </div>
            </div>
          </form>
          {% if not has_stable %}
          <p><i class="p-icon--warning"></i> {{ snap_title }} is only available on the unstable {{lowest_risk_available}} channel. It could break and change often.</p>
          {% endif %}
        </div>
        <div class="u-fixed-width" data-js="channel-map-tabs">
          <nav class="p-tabs">
            <ul class="p-tabs__list" role="tablist">
              <li class="p-tabs__item" role="presentation">
                <a
                  href="#"
                  class="p-tabs__link"
                  role="tab"
                  data-tab="overview"
                  data-js="switch-tab"
                  aria-controls="release-versions"
                  aria-selected="true">
                    Overview
                </a>
              </li>
              <li class="p-tabs__item" role="presentation">
                <a
                  href="#"
                  class="p-tabs__link"
                  role="tab"
                  data-tab="all"
                  data-js="switch-tab"
                  aria-controls="release-versions"
                >
                    All releases
                </a>
              </li>
              {% if has_sboms %}
              <li class="p-tabs__item" role="presentation">
                <a
                  href="#"
                  class="p-tabs__link is-disabled"
                  role="tab"
                  data-tab="security"
                  data-js="switch-tab"
                  aria-controls="security-information"
                  aria-disabled="true"
                  id="channel-map-security-tab"
                >
                    Security
                </a>
              </li>
              {% endif %}
            </ul>
          </nav>
        </div>
        <div class="u-fixed-width p-channel-map__version-table" role="tabpanel" id="release-versions" aria-hidden="false">
          <table aria-label="Release versions">
            <thead>
              <tr>
                <th>Channel</th>
                <th>Version</th>
                <th width="25%" class="u-hide--medium u-hide--small">Published</th>
                <th width="12%"></th>
              </tr>
            </thead>
            <tbody data-js="channel-map-table">
            </tbody>
          </table>
        </div>
        <div class="u-fixed-width p-channel-map__security-table u-hide" role="tabpanel" id="security-information" aria-hidden="true">
          <table aria-label="Security information">
            <thead>
              <tr>
                <th>Channel</th>
                <th>Version</th>
                <th>Revision</th>
                <th>Download SBOM</th>
              </tr>
            </thead>
            <tbody data-js="channel-map-security-table">
            </tbody>
          </table>
        </div>
      </div>
      <div class="p-strip--light is-shallow p-channel-map__slide" data-js="channel-map-install-details">
      </div>
    </div>
  </div>
</div>

<script type="text/template" id="install-warnings-template" data-js="install-warnings" nonce="{{ CSP_NONCE }}">
  <div class="p-notification--caution is-borderless is-inline" style="background-color: transparent;">
    <div class="p-notification__content">
      <p class="p-notification__message">
        ${warning}
      </p>
    </div>
  </div>
</script>

<script type="text/template" id="install-window-template" data-js="install-window" nonce="{{ CSP_NONCE }}">
  <div class="u-fixed-width">
    <a href="#" data-js="slide-all-versions">&lsaquo; All versions</a>
  </div>
  <div class="u-fixed-width">
    <p class="p-heading--4">Install ${channel} of {{ snap_title }}</p>
    <div class="p-notification--caution is-borderless is-inline" style="background-color: transparent;">
      <div class="p-notification__content">
        <p class="p-notification__message" data-js="warning">
          This snap in this channel hasn't been updated since March 2023. Contact the developer to ask for an update.
        </p>
      </div>
    </div>
    <p>Ubuntu 16.04 or later?</p>
    <button data-snap="{{ package_name }}?channel=${channel}" class="p-view-store-button" data-js="open-desktop">View in Desktop store</button>
    <p class="p-form-help-text">Make sure <a href="/docs/installing-snapd">snap support</a> is enabled in your Desktop store.</p>
  </div>
  <div class="u-fixed-width">
    <hr />
  </div>
  <div class="u-fixed-width">
    <p><b>Install using the command line</b></p>
    <div class="p-code-snippet">
      <pre class="p-code-snippet__block--icon is-wrapped"><code id="snap-install-alt">sudo snap install {{ package_name }}${paramString}</code></pre>
    </div>
    <p class="p-form-help-text">
      Don't have snapd? <a href="/docs/installing-snapd">Get set up for snaps</a>.
    </p>
  </div>
</script>

<script type="text/template" id="channel-map-row-template" data-js="channel-map-row" nonce="{{ CSP_NONCE }}">
  <tr class="${rowClass}" data-js="slide-install-instructions" data-channel="${row[0]}/${row[1]}" data-confinement="${row[4]}">
    <td>${row[0]}/${row[1]}</td>
    <td>${row[2]}</td>
    <td class="u-hide--medium u-hide--small">${row[3]}</td>
    <td class="u-align--center"><a href="#" class="p-channel-map__version-table-install">Install &rsaquo;</a></td>
  </tr>
</script>

<script type="text/template" id="channel-map-security-table-row-template" data-js="channel-map-security-table-row" nonce="{{ CSP_NONCE }}">
  <tr>
    <td>${row[0]}/${row[1]}</td>
    <td>${row[2]}</td>
    <td>${row[3]}</td>
    <td>${row[4]}</td>
  </tr>
</script>

<div class="p-channel-map-overlay" data-js="close-channel-map" style="display: none"></div>
