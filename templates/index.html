{% extends webapp_config['LAYOUT'] %}

{% block meta_copydoc %}https://docs.google.com/document/d/1_uwPkHmAgV6_uE9ISqIgXjZGJxXPBD90vdeO95h7ikE/edit{% endblock %}

{% set featured_categories = ["Featured", "Development", "Games", "Server"] %}

{% block content %}
<main id="main-content">
  
  {% with featured_categories = featured_categories %}
    {% include "home/_featured-snaps.html" %}
  {% endwith %}
  
  <section class="p-strip--homepage u-no-padding--top u-no-padding--bottom">
    <div class="u-fixed-width"><hr class="u-no-margin--bottom"></div>
    <div class="row">
      <div class="col-3">
        <h2 class="p-muted-heading">Official snaps from major publishers</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/firefox">
          {{
            image(
              url="https://assets.ubuntu.com/v1/aae93857-logo-mozilla--snapcraft-homepage.svg",
              alt="Mozilla",
              width="146",
              height="145",
              hi_def=True,
              loading="eager"
            ) | safe
          }}
        </a>
      </div>
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/publisher/kde">
          {{
              image(
                url="https://assets.ubuntu.com/v1/6958a93e-kde-logo-snapcraft-homepage.svg",
                alt="KDE",
                width="146",
                height="145",
                hi_def=True,
                loading="eager"
              ) | safe
            }}
        </a>
      </div>
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/publisher/jetbrains">
          {{
              image(
                url="https://assets.ubuntu.com/v1/55f6dae7-logo-jetbrains--snapcraft-homepage.svg",
                alt="JetBrains",
                width="146",
                height="145",
                hi_def=True,
                loading="eager"
              ) | safe
            }}
        </a>
      </div>
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/spotify">
          {{
              image(
                url="https://assets.ubuntu.com/v1/63d5fd3f-logo-spotify--snapcraft-homepage.svg",
                alt="Spotify",
                width="146",
                height="145",
                hi_def=True,
                loading="eager"
              ) | safe
            }}
        </a>
      </div>
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/google-cloud-sdk">
          {{
              image(
                url="https://assets.ubuntu.com/v1/2d54fa27-logo-google--snapcraft-homepage.svg",
                alt="Google",
                width="146",
                height="145",
                hi_def=True,
                loading="eager"
              ) | safe
            }}
        </a>
      </div>
      <div class="col-small-2 col-medium-3 col-2 u-align--center">
        <a href="/code">
          {{
              image(
                url="https://assets.ubuntu.com/v1/7b03d4b8-logo-microsoft--snapcraft-homepage.svg",
                alt="Microsoft",
                width="146",
                height="145",
                hi_def=True,
                loading="eager"
              ) | safe
            }}
        </a>
      </div>
    </div>
  </section>

  <section class="p-strip--homepage" data-js="latest-news">
    <div class="u-fixed-width"><hr class="u-no-margin--bottom"></div>
    <div class="row">
      <div class="col-3">
        <h2 class="p-muted-heading">Latest  news from <a href="/blog">our blog&nbsp;&rsaquo;</a></h2>
      </div>
      <div class="col-9">
        <div id="horizontal-latest-articles" class="row" style="min-height: 84px;">
          <div class="u-align--center" style="min-height: 9.1rem;"><i class="p-icon--spinner u-animation--spin">Loading...</i></div>
        </div>
      </div>
    </div>
    <template style="display: none;" id="horizontal-articles-template">
      <div class="row article-row">
        <div class="col-6">
          <h3 class="p-heading--4"><a class="article-link article-title"></a></h3>
        </div>
        <div class="col-3">
          <footer>
            <time pubdate datetime="POST_UPDATED" class="article-time"></time><br>
            <em class="article-author"></em>
          </footer>
        </div>
      </div>
    </template>
    <script src="/static/js/dist/latest-news.js"></script>
    <script>
      canonicalLatestNews.fetchLatestNews({
        articlesContainerSelector: "#horizontal-latest-articles",
        articleTemplateSelector: "#horizontal-articles-template",
        tagId: "2996",
        limit: 3,
      });
    </script>
  </section>

  <section class="p-strip">
    {% include "partials/fsf_language.html" %}
  </section>
  
  <section class="p-strip--homepage u-no-padding--bottom">
    {% include "home/_testimonials.html" %}
  </section>

  <div class="u-fixed-width u-hide--small u-hide--medium"><hr class="u-no-margin--bottom"></div>
  
  <section class="p-strip--homepage u-no-padding--top">
    <div class="row">
      <div class="col-6">
        <h2>Showcase to millions</h2>
      </div>
      <div class="col-6">
        <p>Reach beyond your existing audience with a listing on the Snap Store, the front page for app discovery on Ubuntu and other popular distros.</p>
        <p style="margin-bottom: 2rem;"><a href="/store">Browse the Snap Store</a></p>
      </div>
    </div>
    <div class="u-fixed-width">
      {{
        image(
          url="https://assets.ubuntu.com/v1/0b2aebda-showcase_to_millions.jpg",
          alt="Snap details page",
          width="1242",
          height="622",
          hi_def=True,
          attrs={"class": "u-full-width"}
        ) | safe
      }}
    </div>
  </section>
  
  <div class="u-fixed-width u-hide--small u-hide--medium"><hr class="u-no-margin--bottom"></div>
  
  <section class="p-strip--homepage u-no-padding--top">
    <div class="row">
      <div class="col-6">
        <h2>Measure user growth</h2>
        <p>Make data-driven decisions with active install metrics. Watch as automatic updates migrate users to your latest release. Understand your audience with geographic and version breakdowns.</p>
      </div>
      <div class="col-6" style="padding-top: 1rem;">
        {{
          image(
            url="https://assets.ubuntu.com/v1/6a7a7b93-analytics.png",
            alt="Snap metrics",
            width="536",
            height="302",
            hi_def=True,
          ) | safe
        }}
      </div>
    </div>
  </section>
</main>
{% endblock %}

{% block scripts_includes %}
<script src="{{ static_url('js/dist/homepage.js') }}" defer></script>
<script src="{{ static_url('js/dist/featured-snaps.js') }}" defer></script>
{% if nps %}
<script src="//app-sjg.marketo.com/js/forms2/js/forms2.min.js" defer></script>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
  window.addEventListener("DOMContentLoaded", function () {
    Raven.context(function () {
      snapcraft.public.homepage.initFSFLanguageSelect();
      snapcraft.public.homepage.initExpandableArea();
      snapcraft.public.featuredSnaps.init({{ featured_categories|safe }});

      {% if nps %}
        snapcraft.public.homepage.nps();
      {% endif %}
    });
  });
</script>
{% endblock %}
