{% set fsf_step = "install" %}
{% extends "first-snap/_layout_fsf.html" %}

{% block fsf_content %}
  <div class="row">
    <p>Now we'll set up Snapcraft, the tool for building snaps.</p>
    <h4>What operating system are you developing on?</h4>
  </div>
  <div class="row">
    <div class="col-6 p-fluid-grid">
      <a class="p-logo-link p-fluid-grid__item--small p-card u-align-text--center js-os-select" data-os="linux">
        <header class="p-card__header">
          <img src="https://assets.ubuntu.com/v1/e95bac0c-tux.svg" alt="">
        </header>
        <span>Linux</span>
      </a>
      <span class="p-logo-link p-fluid-grid__item--small p-card u-align-text--center js-os-select" data-os="macos">
        <header class="p-card__header">
          <img src="https://assets.ubuntu.com/v1/236f314d-macos.svg" alt="">
        </header>
        <span>macOS</span>
      </span>
      <span class="p-logo-link p-fluid-grid__item--small p-card u-align-text--center is-disabled" data-os="windows">
        <header class="p-card__header">
          <img src="https://assets.ubuntu.com/v1/a9bfe4c5-win.svg" alt="">
        </header>
        <span>Windows</span>
      </span>
    </div>
  </div>

  {% include "first-snap/_install-linux.html" %}

  {% include "first-snap/_install-macos.html" %}

  {% include "first-snap/_install-windows.html" %}

  <div class="row">
    <hr />
  </div>

  <div class="row">
    <p class="u-float--left">Next, we'll package an example snap.</p>
    <a class="p-button--positive u-float--right js-continue is--disabled">Continue</a>
  </div>
{% endblock %}

{% block fsf_pagination %}
  <a class="p-pagination__link--previous" href="/first-snap/">
    <span class="p-pagination__label">Previous</span>
    <span class="p-pagination__title">Language</span>
  </a>
  {# TODO: disable when not selected, update on selection #}
  <a class="p-pagination__link--next" href="/first-snap/{{ language }}/macos/package">
    <span class="p-pagination__label">Next</span>
    <span class="p-pagination__title">Package</span>
  </a>
{% endblock %}

{% block scripts %}
  <script src="{{ static_url('js/dist/public.js') }}"></script>
  <script>
    Raven.context(function() {
      snapcraft.public.firstSnapFlow.install({{ language|tojson }});
    });
  </script>
  {{ super() }}
{% endblock %}
